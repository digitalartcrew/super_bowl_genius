<ion-view>
  <ion-nav-buttons side="left">
    <a class="button button-positive ion-chevron-left" ui-sref="app.home"></a>
  </ion-nav-buttons>
  <ion-content>
    <div class="list">
      <div class="item">
        <div class="row">
          <div class="col col-80">
            <input type="text" ng-model="msg.body" style="width:100%">
          </div>
          <div class="col col-20">
            <button class="button button-positive" ng-click="post()">send</button>
          </div>
        </div>
      </div>
    </div>
    <ion-refresher on-refresh="loadChannel(0, channel);"></ion-refresher>
    <div class="card" ng-repeat="msg in messages track by $index">
      <div class="item item-divider">{{msg.sender}}</div>
      <div class="item item-text-wrap">
        {{msg.body}}
      </div>
    </div>
    <ion-infinite-scroll on-infinite="loadChannel(-1, channel)" ng-if="fetch_more"></ion-infinite-scroll>
  </ion-content>
</ion-view>